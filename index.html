<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Visualisierung</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.17.1/cytoscape.min.js" 
		integrity="sha512-dR5Qb5zIoRodLJCkh0InsAi/uyP1Pd3lMAliXEdv5ol71k2qCwWFS9N18LIGH9MQuAPWu3adPyww5SK2deReog==" 
		crossorigin="anonymous"></script>
	<script
		src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
		crossorigin="anonymous"></script>
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape-panzoom.min.js" 
		integrity="sha512-coQmIYa/SKS8wyZw14FTLJhHmp5jqIO2WxyGhjAnLGdym6RsLX412wLO1hqnFifU0NacrJvlUukRJEwjRkm0Xg==" 
		crossorigin="anonymous"></script>
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" 
		integrity="sha512-Qlv6VSKh1gDKGoJbnyA5RMXYcvnpIqhO++MhIM2fStMcGT9i2T//tSwYFlcyoRRDcDZ+TYHpH8azBBCyhpSeqw==" 
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape.js-panzoom.min.css" integrity="sha512-MJrzp+ZGajx6AWCCCmjBWo0rPFavM1aBghVUSVVa0uYv8THryrtEygjj5r2rUg/ms33SkEC5xJ3E4ycCmxWdrw==" crossorigin="anonymous" />

	<script>
		document.addEventListener("DOMContentLoaded", function() {
			$.getJSON("cytoscape_graph.json", function(data){
				data.container = $('#cy');
				data.style = [ // the stylesheet for the graph
				    {
				      selector: 'node',
				      style: {
				        'background-color': '#666',
				        'label': 'data(name)'
				      }
				    },

				    {
				      selector: 'edge',
				      style: {
				        'width': 3,
				        'line-color': '#ccc',
				        'target-arrow-color': '#ccc',
				        'target-arrow-shape': 'triangle',
				        'curve-style': 'bezier'
				      }
				    }
				  ]
				data.layout = {
					name:"cose", 
					animate:"true",
					idealEdgeLength: function( edge ){ return 64; },
				}
				cy = cytoscape(data);
				cy.panzoom();
				// var a = $("#downloadgraph");
				var file = new Blob([cy.png({output: 'blob'})]);
				// a.href = URL.createObjectURL(file);
				// a.download = "Graph.png";
				// a.click();
			});
		});
		
    </script>
</head>
<body>
	<div id="cy"></div>
	<a id="downloadgraph" style="display:none"> Download </a>

	<style>
    #cy {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
    }
</style>
</body>
</html>
