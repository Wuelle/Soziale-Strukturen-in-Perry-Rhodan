{% extends "base.html" %}

{% block title %}
Visualisierung
{% endblock %}

{% block head %}
	<link 
		rel="stylesheet" 
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
		integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
		crossorigin="anonymous" />
	<link 
		rel="stylesheet" 
		href="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape.js-panzoom.min.css" 
		integrity="sha512-MJrzp+ZGajx6AWCCCmjBWo0rPFavM1aBghVUSVVa0uYv8THryrtEygjj5r2rUg/ms33SkEC5xJ3E4ycCmxWdrw==" 
		crossorigin="anonymous" />
	<link 
		rel="stylesheet" 
		href="{{ url_for('static', filename='css/visualize.css') }}">
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.17.1/cytoscape.min.js" 
		integrity="sha512-dR5Qb5zIoRodLJCkh0InsAi/uyP1Pd3lMAliXEdv5ol71k2qCwWFS9N18LIGH9MQuAPWu3adPyww5SK2deReog==" 
		crossorigin="anonymous"></script>
	<script
		src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
		crossorigin="anonymous"></script>
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape-panzoom.min.js" 
		integrity="sha512-coQmIYa/SKS8wyZw14FTLJhHmp5jqIO2WxyGhjAnLGdym6RsLX412wLO1hqnFifU0NacrJvlUukRJEwjRkm0Xg==" 
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/cytoscape-svg@0.3.1/cytoscape-svg.min.js"></script>
	<script src="https://unpkg.com/webcola@3.3.8/WebCola/cola.min.js"></script>
	<script src="https://unpkg.com/cytoscape-cola@2.2.3/cytoscape-cola.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/lodash"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-layers"></script>
	<script src="https://cdn.jsdelivr.net/npm/cytoscape-bubblesets@3.0.0/build/index.umd.min.js"></script>

	<script 
		src="{{ url_for('static', filename='js/visualize.js') }}"
		type="text/javascript"></script>
{% endblock %}


{% block body %}
<!-- Cytoscape Content goes here -->
<div id="cy"></div>

<div id="config">
	<div class="section">
		<h2>Ansicht</h2>
		{% with id="cycle_selector", ajax_url="/api/search_cycles", placeholder="Suchen sie nach Zyklen", single=True%}
			{% include "character_selector.html" %}
		{% endwith %}
		<input class="form-check-input" type="checkbox" id="toggleEdgeLabels">
		<label class="form-check-label" for="toggleEdgeLabels">Anzahl Interaktionen</label><br>

		<input class="form-check-input" type="checkbox" id="toggleNodeLabels" checked>
		<label class="form-check-label" for="toggleNodeLabels">Namen</label><br>
	</div>

	<div class="section">
		<h2>Download</h2>
		<!-- Select element is contained in a div for style purposes -->
		<div class="pretty_select">
			<select id="fileType" placeholder="WÃ¤hlen sie ein Format:">
				<option value="svg" id="option_svg">
					.svg
				</option>
				<option value="png" id="option_png">
					.png
				</option>
				<option value="jpg" id="option_jpg">
					.jpg
				</option>
			</select>
		</div>

		<input type="radio" name="graphview" value="full" id="option_full" checked>
		<label for="option_full">Gesamter Graph</label><br>
		<input type="radio" name="graphview" value="partial" id="option_partial">
		<label for="option_partial">Derzeitige Ansicht</label><br>
		<button class="pretty_button" onclick="downloadGraph()" id="startDownload">Download starten</button>
	</div>

	<div class="section">
		<h2>Analyse</h2>
		<!-- <p>
			<em>
				<u>Anmerkung:</u> Die visuelle Anordnung der Nodes hat keinen Einfluss auf die 
				Bildung der Gruppen. Diese basiert auf der Anzahl der Interaktionen zwischen 
				den Charakteren
			</em>
		</p> -->
		<button class="pretty_button" onclick="formClusters()">In Gruppen teilen</button>
	</div>
</div>
{% endblock %}

