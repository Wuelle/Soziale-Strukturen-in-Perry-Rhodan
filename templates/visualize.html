{% extends "base.html" %}

{% block title %}
Visualisierung
{% endblock %}

{% block head %}
<link 
		rel="stylesheet" 
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
		integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
		crossorigin="anonymous" />
	<link 
		rel="stylesheet" 
		href="static/css/visualize.css">
	<link 
		rel="stylesheet" 
		href="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape.js-panzoom.min.css" 
		integrity="sha512-MJrzp+ZGajx6AWCCCmjBWo0rPFavM1aBghVUSVVa0uYv8THryrtEygjj5r2rUg/ms33SkEC5xJ3E4ycCmxWdrw==" 
		crossorigin="anonymous" />
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.17.1/cytoscape.min.js" 
		integrity="sha512-dR5Qb5zIoRodLJCkh0InsAi/uyP1Pd3lMAliXEdv5ol71k2qCwWFS9N18LIGH9MQuAPWu3adPyww5SK2deReog==" 
		crossorigin="anonymous"></script>
	<script
		src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
		crossorigin="anonymous"></script>
	<script 
		src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape-panzoom/2.5.3/cytoscape-panzoom.min.js" 
		integrity="sha512-coQmIYa/SKS8wyZw14FTLJhHmp5jqIO2WxyGhjAnLGdym6RsLX412wLO1hqnFifU0NacrJvlUukRJEwjRkm0Xg==" 
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/cytoscape-bubblesets@3.0.0/build/index.umd.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/cytoscape-svg@0.3.1/cytoscape-svg.min.js"></script>
	<script src="https://unpkg.com/webcola@3.3.8/WebCola/cola.min.js"></script>
	<script src="https://unpkg.com/cytoscape-cola@2.2.3/cytoscape-cola.js"></script>

	<script 
		src="static/js/visualize.js"
		type="text/javascript"></script>
{% endblock %}


{% block body %}
<!-- Cytoscape Content goes here -->
<div id="cy"></div>

<div id="config">
	<button type="button" class="toggle_collapsible">Ansicht</button>
	<div class="content">
		<ul>
			<li>
				<input type="checkbox" id="toggleEdgeLabels">
				<label for="toggleEdgeLabels">Anzahl der Interaktionen anzeigen</label>
			</li>
			<li>
				<input type="checkbox" id="toggleBorder">
				<label for="toggleBorder">Charakterspezies anzeigen</label>
			</li>

			<li>
				<input type="checkbox" id="toggleNodeLabels" checked>
				<label for="toggleNodeLabels">Namen der Charaktere anzeigen</label>
			</li>

			<li>
				<input type="range" min="1" max="200" value="100" class="slider" id="edge_length_slider">
				<label for="edge_length_slider">Kantenl√§nge</label>
			</li>

			<li>
				<input type="range" min="1" max="50" value="75" class="slider" id="node_spacing_slider">
				<label for="node_spacing_slider">Node Abstand</label>
			</li>
		</ul>
	</div>

	<button type="button" class="toggle_collapsible">Download</button>
	<div class="content">
		<label for="fileType">Dateiformat:</label>
		<select id="fileType" class="pretty_select">
			<option value="svg" id="option_svg">
				.svg (Vektorgrafik)
			</option>
			<option value="png" id="option_png">
				.png
			</option>
			<option value="jpg" id="option_jpg">
				.jpg
			</option>

		</select><br>
		<input type="radio" name="graphview" value="full" id="option_full" checked>
		<label for="option_full">Gesamter Graph</label><br>
		<input type="radio" name="graphview" value="partial" id="option_partial">
		<label for="option_partial">Derzeitige Ansicht</label><br>
		<button onclick="downloadGraph()" id="startDownload">Download starten</button><br>	
	</div>

	<button type="button" class="toggle_collapsible">Analyse</button>
	<div class="content">
		<p>
			<em>
				<u>Anmerkung:</u> Die visuelle Anordnung der Nodes hat keinen Einfluss auf die 
				Bildung der Gruppen. Diese basiert auf der Anzahl der Interaktionen zwischen 
				den Charakteren
			</em>
		</p>
		<input type="number" min="1" max="5" id="numClusters"></input>
		<label for="numClusters">Cluster</label>
		<button onclick="formClusters()">fuzzyCMeans</button>
	</div>

	<div id="credits">
		Daten vom <a href="https://www.perrypedia.de">Perrypedia</a><br>
		Visualisierung mit <a href="https://js.cytoscape.org">Cytoscape.js</a><br>
		Layout mit <a href="http://marvl.infotech.monash.edu/webcola/">Cola.js</a><br>
	</div>
	
</div>
{% endblock %}

